angular.module("angular-laydate").directive("ngLaydate",["$window",function(l){var r=l.document,o=r.createElement("script").readyState?function(a,t){a.onreadystatechange=function(){var e=a.readyState;"loaded"!==e&&"complete"!==e||(a.onreadystatechange=null,t.call(this))}}:function(e,a){e.addEventListener("load",a,!1)};return{restrict:"C",scope:{laydateType:"=",laydateFormat:"=",laydateOptions:"=",ngModel:"=",laydateSrc:"@"},link:function(n,d){n.readyLaydate=function(){if(!l.laydate){var e=r.getElementsByTagName("head")[0],a=r.createElement("script"),t="script-laydate-js";a.type="text/javascript",a.src=(n.laydateSrc||"lib/laydate/")+"laydate.js",a.id=t,a.async=!0,o(a,function(){n.render(!1)}),r.getElementById(t)||e.appendChild(a)}},n.isRender=!0,n.render=function(e){var a=0;if(!l.laydate){for(;80<++a;)l.console&&l.console.log("load laydate.js");l.laydate||l.console&&l.console.error("laydate.js: Invalid")}var t=angular.copy(n.laydateOptions)||{};t.elem=d[0],n.laydateType&&(t.type=n.laydateType),n.laydateFormat&&(t.format=n.laydateFormat),n.ngModel&&(t.value=n.ngModel),t.done=function(e){n.ngModel=e},t.show=e,l.laydate.render(t),n.isRender=!1},d.one("focus",function(){n.isRender&&n.render(!0)}),n.readyLaydate()}}}]);